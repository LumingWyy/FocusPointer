# 6. 史诗 1: 核心功能与用户配置 (详情)

**史诗目标**: 本史诗将交付一个完整、可供发布的“macOS点击高亮工具”MVP版本。它涵盖了项目的基础设施搭建、核心视觉效果的实现、面向用户的设置面板，以及所有分发所需的必要准备。完成此史诗后，应用程序将功能齐全，并满足所有我们先前定义的需求。

## 用户故事列表:

### 故事 1.1: 项目基础与菜单栏入口
* **作为一个** macOS 用户, **我想要** 在系统菜单栏看到应用的图标，**以便于** 我能随时访问它的功能并确认它正在运行。
* **验收标准**:
    1.  使用 Swift 和 SwiftUI 技术栈在 Xcode 中成功创建项目。
    2.  应用启动后，一个清晰的图标出现在系统菜单栏。
    3.  点击菜单栏图标会弹出一个菜单，其中包含“启用/禁用高亮”、“设置...”和“退出”三个选项。
    4.  点击“退出”选项能够完全关闭应用程序。

### 故事 1.2: 核心高亮效果实现
* **作为一个** 演示者, **我想要** 在按住鼠标时看到一个默认的渐变边框，并在松开时看到它平滑消失，**以便于** 我的核心操作能够被观众清晰地看到。
* **验收标准**:
    1.  当应用效果为“启用”状态时，按住鼠标左键会在光标周围渲染出一个边框。
    2.  该边框的样式是一个固定的、不可配置的默认彩色渐变。
    3.  松开鼠标左键后，该边框会在一个简短的动画时长内（例如0.3秒）平滑地渐变消失。
    4.  该效果在整个macOS屏幕范围内均有效（需要获取辅助功能权限）。
    5.  此功能的运行对系统性能的影响必须可以忽略不计。

### 故事 1.3: 实现效果的启用/禁用功能
* **作为一个** 用户, **我想要** 通过菜单栏的选项来随时启用或禁用高亮效果，**以便于** 我可以根据需要完全控制该功能的开关。
* **验收标准**:
    1.  菜单栏中的“启用/禁用高亮”选项是一个功能性的切换开关。
    2.  当切换到“禁用”状态时，按住鼠标将不再触发任何边框效果。
    3.  当切换到“启用”状态时，边框效果恢复正常。
    4.  菜单项旁边应有状态指示（例如一个✓），明确显示当前是启用还是禁用状态。

### 故事 1.4: 构建设置面板UI
* **作为一个** 用户, **我想要** 从菜单栏打开一个设置面板，**以便于** 我可以看到所有可用的自定义选项。
* **验收标准**:
    1.  点击菜单栏菜单中的“设置...”选项，会打开一个独立的设置窗口。
    2.  设置窗口中包含用于“边框厚度”的UI控件（例如，一个带有“小/中/大”选项的分段控件）。
    3.  设置窗口中包含用于“颜色主题”的UI控件（例如，一个由多个可选颜色块组成的网格）。
    4.  此时，这些UI控件仅用于展示，其功能无需实现。窗口可以被正常关闭。

### 故事 1.5: 实现设置逻辑并持久化
* **作为一个** 用户, **我想要** 我在设置面板中的选择能够立刻应用到高亮效果上，并且这些设置能够被保存，**以便于** 我可以根据自己的偏好定制工具的外观，并且无需每次启动都重新设置。
* **验收标准**:
    1.  在设置面板中更改“边框厚度”，实际的高亮效果会相应地实时变化。
    2.  在设置面板中选择一个新的“颜色主题”，实际的高亮效果会相应地实时变化。
    3.  关闭并重新启动应用后，之前所做的设置（厚度和颜色）依然保留并生效。
    4.  应用首次启动时，会应用一套默认的设置。