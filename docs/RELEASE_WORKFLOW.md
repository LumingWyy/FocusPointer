# ğŸš€ å‘å¸ƒå·¥ä½œæµç¨‹æŒ‡å—

æœ¬æ–‡æ¡£è¯´æ˜å¦‚ä½•ä½¿ç”¨ GitHub Actions è‡ªåŠ¨åŒ–å‘å¸ƒæµç¨‹ã€‚

---

## ğŸ“‹ å‘å¸ƒæ–¹å¼æ€»è§ˆ

é¡¹ç›®æä¾›ä¸‰ç§å‘å¸ƒæ–¹å¼:

| æ–¹å¼ | è§¦å‘æ¡ä»¶ | é€‚ç”¨åœºæ™¯ | è‡ªåŠ¨åŒ–ç¨‹åº¦ |
|------|---------|---------|-----------|
| **æ–¹å¼ 1: Tag å‘å¸ƒ** | æ¨é€ `v*` æ ‡ç­¾ | å¿«é€Ÿå‘å¸ƒ | â­â­â­ |
| **æ–¹å¼ 2: PR å‘å¸ƒ** | åˆå¹¶ `release/*` PR | å›¢é˜Ÿåä½œ | â­â­â­â­â­ |
| **æ–¹å¼ 3: æ‰‹åŠ¨å‘å¸ƒ** | æœ¬åœ°è„šæœ¬ | æµ‹è¯•/éªŒè¯ | â­â­ |

---

## ğŸ·ï¸ æ–¹å¼ 1: Tag å‘å¸ƒ (æ¨èæ–°æ‰‹)

### å·¥ä½œæµæ–‡ä»¶
`.github/workflows/release.yml`

### ä½¿ç”¨æ­¥éª¤

```bash
# 1. ç¡®ä¿ä»£ç å·²æäº¤
git add .
git commit -m "å‡†å¤‡å‘å¸ƒ v1.0.0"

# 2. åˆ›å»ºå¹¶æ¨é€æ ‡ç­¾
git tag v1.0.0
git push origin v1.0.0

# 3. ç­‰å¾… GitHub Actions å®Œæˆ âœ¨
# è®¿é—®: https://github.com/YOUR_USERNAME/FocusPointer/actions
```

### è‡ªåŠ¨æ‰§è¡Œ
- âœ… æ„å»º Xcode é¡¹ç›®
- âœ… åˆ›å»º DMG æ–‡ä»¶
- âœ… ç”Ÿæˆ SHA256 æ ¡éªŒå’Œ
- âœ… åˆ›å»º GitHub Release
- âœ… ä¸Šä¼  DMG å’Œæ ¡éªŒå’Œæ–‡ä»¶

---

## ğŸ”€ æ–¹å¼ 2: PR å‘å¸ƒ (æ¨èå›¢é˜Ÿ)

### å·¥ä½œæµæ–‡ä»¶
`.github/workflows/release-pr.yml`

### ä½¿ç”¨æ­¥éª¤

#### æ­¥éª¤ 1: åˆ›å»º Release åˆ†æ”¯

```bash
# ä» main åˆ†æ”¯åˆ›å»º release åˆ†æ”¯
git checkout main
git pull origin main
git checkout -b release/v1.0.0
```

#### æ­¥éª¤ 2: å‡†å¤‡å‘å¸ƒ

```bash
# 1. æ›´æ–°ç‰ˆæœ¬å· (project.yml)
# MARKETING_VERSION: "1.0.0"

# 2. æ›´æ–° CHANGELOG (å¯é€‰)
# æ·»åŠ æ–°ç‰ˆæœ¬çš„æ›´æ–°è¯´æ˜

# 3. æäº¤æ›´æ”¹
git add .
git commit -m "chore: å‡†å¤‡å‘å¸ƒ v1.0.0"
git push origin release/v1.0.0
```

#### æ­¥éª¤ 3: åˆ›å»º Pull Request

1. è®¿é—® GitHub ä»“åº“
2. ç‚¹å‡» **Pull requests** â†’ **New pull request**
3. è®¾ç½®:
   - **Base**: `main`
   - **Compare**: `release/v1.0.0`
   - **Title**: `v1.0.0` æˆ– `Release v1.0.0`
   - **Description**: å¡«å†™æ›´æ–°å†…å®¹

```markdown
## ğŸ‰ v1.0.0

### âœ¨ æ–°åŠŸèƒ½
- æ·»åŠ é¼ æ ‡ç‚¹å‡»é«˜äº®æ•ˆæœ
- æ”¯æŒ 5 ç§é¢œè‰²ä¸»é¢˜
- å¯è°ƒèŠ‚è¾¹æ¡†åšåº¦

### ğŸ› ä¿®å¤
- ä¿®å¤å†…å­˜æ³„æ¼é—®é¢˜

### ğŸ“ å…¶ä»–
- æ›´æ–°æ–‡æ¡£
```

#### æ­¥éª¤ 4: åˆå¹¶ PR

1. Review ä»£ç 
2. ç‚¹å‡» **Merge pull request**
3. é€‰æ‹© **Merge commit** (æ¨è)
4. ç‚¹å‡» **Confirm merge**

#### æ­¥éª¤ 5: è‡ªåŠ¨å‘å¸ƒ ğŸ‰

PR åˆå¹¶å,GitHub Actions è‡ªåŠ¨:
- âœ… æ„å»ºåº”ç”¨
- âœ… åˆ›å»º DMG
- âœ… åˆ›å»º Git Tag (`v1.0.0`)
- âœ… åˆ›å»º GitHub Release
- âœ… ä¸Šä¼  DMG æ–‡ä»¶
- âœ… åœ¨ PR ä¸­æ·»åŠ è¯„è®ºé€šçŸ¥

### PR å‘å¸ƒçš„ä¼˜åŠ¿

- ğŸ“ **ä»£ç å®¡æŸ¥**: å‘å¸ƒå‰å¯ä»¥ review
- ğŸ”„ **å›æ»šç®€å•**: å¯ä»¥å¿«é€Ÿ revert PR
- ğŸ“‹ **è‡ªåŠ¨åŒ–æ–‡æ¡£**: PR æè¿°è‡ªåŠ¨æˆä¸º Release Notes
- ğŸ‘¥ **å›¢é˜Ÿåä½œ**: å¤šäººå¯ä»¥å‚ä¸å‘å¸ƒæµç¨‹
- ğŸ”” **é€šçŸ¥æœºåˆ¶**: PR åˆå¹¶åè‡ªåŠ¨é€šçŸ¥

---

## ğŸ–¥ï¸ æ–¹å¼ 3: æœ¬åœ°æ‰‹åŠ¨å‘å¸ƒ

### é€‚ç”¨åœºæ™¯
- æµ‹è¯•å‘å¸ƒæµç¨‹
- æ— æ³•ä½¿ç”¨ GitHub Actions
- éœ€è¦ä»£ç ç­¾åå’Œå…¬è¯

### ä½¿ç”¨æ­¥éª¤

```bash
# 1. å®Œæ•´å‘å¸ƒæµç¨‹
./scripts/release.sh

# 2. æˆ–åˆ†æ­¥æ‰§è¡Œ
./scripts/build.sh          # æ„å»º
./scripts/create-dmg.sh     # åˆ›å»º DMG
./scripts/sign-and-notarize.sh  # ç­¾åå…¬è¯ (å¯é€‰)

# 3. æ‰‹åŠ¨ä¸Šä¼ åˆ° GitHub
gh release create v1.0.0 \
    build/Aura-1.0.0.dmg \
    --title "Aura v1.0.0" \
    --notes "Release notes..."
```

---

## ğŸ“Š å‘å¸ƒæµç¨‹å¯¹æ¯”

### Tag å‘å¸ƒ vs PR å‘å¸ƒ

| ç‰¹æ€§ | Tag å‘å¸ƒ | PR å‘å¸ƒ |
|------|---------|---------|
| **è§¦å‘æ–¹å¼** | æ¨é€æ ‡ç­¾ | åˆå¹¶ PR |
| **ä»£ç å®¡æŸ¥** | âŒ | âœ… |
| **è‡ªåŠ¨æ ‡ç­¾** | æ‰‹åŠ¨åˆ›å»º | è‡ªåŠ¨åˆ›å»º |
| **Release Notes** | æ¨¡æ¿ç”Ÿæˆ | PR æè¿° |
| **å›æ»šéš¾åº¦** | ä¸­ç­‰ | ç®€å• |
| **å›¢é˜Ÿåä½œ** | ä¸€èˆ¬ | ä¼˜ç§€ |
| **é€‚åˆåœºæ™¯** | ä¸ªäººé¡¹ç›® | å›¢é˜Ÿé¡¹ç›® |

---

## ğŸ”§ é…ç½®è¯´æ˜

### release.yml (Tag è§¦å‘)

```yaml
on:
  push:
    tags:
      - 'v*'  # ä»»ä½• v å¼€å¤´çš„æ ‡ç­¾
  workflow_dispatch:  # æ‰‹åŠ¨è§¦å‘
```

### release-pr.yml (PR è§¦å‘)

```yaml
on:
  pull_request:
    types:
      - closed
    branches:
      - main

jobs:
  release:
    # åªåœ¨åˆå¹¶ä¸”åˆ†æ”¯åä»¥ release å¼€å¤´æ—¶è¿è¡Œ
    if: github.event.pull_request.merged == true && startsWith(github.head_ref, 'release')
```

---

## ğŸ“ ç‰ˆæœ¬å·è§„èŒƒ

éµå¾ª [Semantic Versioning](https://semver.org/):

- **ä¸»ç‰ˆæœ¬å· (Major)**: ä¸å…¼å®¹çš„ API ä¿®æ”¹ - `v2.0.0`
- **æ¬¡ç‰ˆæœ¬å· (Minor)**: å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢ - `v1.1.0`
- **ä¿®è®¢å· (Patch)**: å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£ - `v1.0.1`

### ç¤ºä¾‹

```bash
# åˆå§‹å‘å¸ƒ
v1.0.0

# æ·»åŠ æ–°åŠŸèƒ½ (å‘ä¸‹å…¼å®¹)
v1.1.0

# ä¿®å¤ Bug
v1.1.1

# é‡å¤§æ›´æ–° (ä¸å…¼å®¹)
v2.0.0
```

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: GitHub Actions æ„å»ºå¤±è´¥

**A**: æ£€æŸ¥:
1. `project.yml` è¯­æ³•æ˜¯å¦æ­£ç¡®
2. Xcode ç‰ˆæœ¬æ˜¯å¦æ”¯æŒ
3. ä¾èµ–æ˜¯å¦æ­£ç¡®å®‰è£…
4. æŸ¥çœ‹ Actions æ—¥å¿—è¯¦ç»†é”™è¯¯

### Q2: PR åˆå¹¶åæ²¡æœ‰è§¦å‘å‘å¸ƒ

**A**: ç¡®è®¤:
1. åˆ†æ”¯åæ˜¯å¦ä»¥ `release` å¼€å¤´ (å¦‚ `release/v1.0.0`)
2. PR æ˜¯å¦çœŸæ­£åˆå¹¶ (ä¸æ˜¯å…³é—­)
3. Target åˆ†æ”¯æ˜¯å¦ä¸º `main`

### Q3: DMG åˆ›å»ºå¤±è´¥

**A**: å¯èƒ½åŸå› :
1. åº”ç”¨æœªæˆåŠŸæ„å»º
2. ç£ç›˜ç©ºé—´ä¸è¶³
3. æƒé™é—®é¢˜

### Q4: å¦‚ä½•æ›´æ–°å·²å‘å¸ƒçš„ Release

```bash
# åˆ é™¤æ ‡ç­¾å’Œ Release
git tag -d v1.0.0
git push origin :refs/tags/v1.0.0

# åœ¨ GitHub ä¸Šæ‰‹åŠ¨åˆ é™¤ Release
# é‡æ–°åˆ›å»ºæ ‡ç­¾
git tag v1.0.0
git push origin v1.0.0
```

---

## ğŸ“š æ¨èå·¥ä½œæµ

### ä¸ªäººé¡¹ç›®

```bash
# å¼€å‘ â†’ æäº¤ â†’ æ¨é€æ ‡ç­¾
git tag v1.0.0
git push origin v1.0.0
```

### å›¢é˜Ÿé¡¹ç›®

```bash
# å¼€å‘ â†’ åˆ›å»º release åˆ†æ”¯ â†’ PR â†’ Review â†’ åˆå¹¶
git checkout -b release/v1.0.0
# ... ä¿®æ”¹ç‰ˆæœ¬å· ...
git push origin release/v1.0.0
# åœ¨ GitHub åˆ›å»º PR â†’ Review â†’ Merge
```

---

## ğŸ¯ æœ€ä½³å®è·µ

1. **ç‰ˆæœ¬å·è§„èŒƒ**: éµå¾ª Semantic Versioning
2. **Release Notes**: è¯¦ç»†æè¿°æ›´æ–°å†…å®¹
3. **æµ‹è¯•éªŒè¯**: å‘å¸ƒå‰å……åˆ†æµ‹è¯•
4. **ä»£ç å®¡æŸ¥**: å›¢é˜Ÿé¡¹ç›®ä½¿ç”¨ PR å‘å¸ƒ
5. **å¤‡ä»½é‡è¦ç‰ˆæœ¬**: ä¿ç•™é‡è¦ç‰ˆæœ¬çš„ DMG æ–‡ä»¶
6. **æ›´æ–°æ–‡æ¡£**: å‘å¸ƒåæ›´æ–° README å’Œ CHANGELOG

---

## ğŸ”— ç›¸å…³é“¾æ¥

- [GitHub Actions æ–‡æ¡£](https://docs.github.com/en/actions)
- [Semantic Versioning](https://semver.org/)
- [Release Drafter](https://github.com/release-drafter/release-drafter)

---

**ç¥ä½ å‘å¸ƒé¡ºåˆ©! ğŸš€**
